(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4322],{9777:function(e,s,l){Promise.resolve().then(l.bind(l,5764))},5764:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return v}});var c=l(909),i=l(151),a=l(233),n=l(4441),t=l(810),r=l(4928),x=l(6907),d=l(1795),o=l(8071),f=l(585),u=l(2369),m=l(2948),h=l(2755),j=l(9083);let p=e=>{let{parcel:s}=e,[l,a]=(0,i.useState)(!1),n=h.vD.find(e=>e.value===s.parcelTypeId)||h.vD.find(e=>"other"===e.value),t=null==n?void 0:n.icon;return(0,c.jsxs)(o.Zb,{className:"flex flex-col w-full cursor-pointer",onClick:()=>a(!l),children:[(0,c.jsxs)(o.Ol,{className:"flex flex-col space-y-2 pb-2",children:[(0,c.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[(0,c.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[t&&(0,c.jsx)(t,{className:"h-4 w-4 text-muted-foreground"}),(0,c.jsx)(f.C,{size:"sm",color:"indigo",children:(null==n?void 0:n.label)||s.parcelTypeId})]}),(0,c.jsxs)(f.C,{color:"indigo",children:[s.numPackages," ",1===s.numPackages?"Item":"Items"]})]}),(0,c.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Collected:"," ",s._creationTime?(0,m.WU)(new Date(s._creationTime),"PPp"):"Time not available"]})]}),l&&(0,c.jsxs)(o.aY,{className:"flex flex-col gap-2",children:[(0,c.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,c.jsx)(j.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,c.jsx)("span",{className:"text-xs text-muted-foreground",children:s.description})]}),(0,c.jsx)(f.C,{size:"xs",color:"pink",children:s.spaceName})]})]})};function N(){let e=(0,n.aM)(t.h.parcels.getAllForCurrentOccupant,{isCollected:!0});return e?(0,c.jsxs)("div",{className:"flex flex-col gap-4 w-full",children:[(0,c.jsx)("div",{className:"flex flex-col gap-2 w-full",children:(0,c.jsx)("div",{className:"flex flex-row items-center justify-between",children:(0,c.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,c.jsx)("div",{className:"w-5 h-5 fill-foreground",children:(0,c.jsx)(u.Zu,{})}),(0,c.jsx)("h2",{className:"text-xl font-semibold",children:"Collected Mail"}),(0,c.jsx)(f.C,{size:"xs",color:"green",children:"".concat(e.length," Collected")})]})})}),(0,c.jsx)("div",{className:"flex flex-col gap-4 w-full",children:e.map(e=>(0,c.jsx)(p,{parcel:e},e._id))})]}):(0,c.jsx)("div",{children:"Loading collected mail..."})}var g=l(7277);function v(){let{isLoaded:e,isSignedIn:s,user:l}=(0,g.aF)(),{isLoaded:x,setActive:o,userMemberships:f}=(0,g.eW)({userMemberships:{infinite:!0}}),u=(0,a.useRouter)();return((0,n.aM)(t.h.theme.getBannerImage),(0,n.aM)(t.h.site.getAllSites),(0,i.useEffect)(()=>{e&&!s&&u.push("/")},[e,s,u]),e&&x&&s&&l)?(0,c.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,c.jsx)("div",{className:"flex-grow overflow-auto",children:(0,c.jsxs)("div",{className:"flex flex-col gap-4 items-start justify-start pt-16 p-4 pb-[120px] w-full",children:[(0,c.jsx)(d.L,{}),(0,c.jsx)(N,{})]})}),(0,c.jsx)(r.Z,{})]}):(0,c.jsx)(w,{})}function w(){return(0,c.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,c.jsx)(x.Z,{className:"h-16 w-16 animate-spin text-primary"})})}}},function(e){e.O(0,[3230,7400,7801,3050,1532,6556,2948,4928,1795,6251,2663,1744],function(){return e(e.s=9777)}),_N_E=e.O()}]);