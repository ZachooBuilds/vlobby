"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6556],{6907:function(e,t,r){r.d(t,{Z:function(){return s}});let s=(0,r(9501).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},6979:function(e,t,r){r.d(t,{qL:function(){return V.qL}});var s=r(9064);r(8218);var n=r(8646),i=r(7386),a=Object.defineProperty,o=(e,t,r)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,u=(e,t,r)=>o(e,"symbol"!=typeof t?t+"":t,r);class l{constructor(){u(this,"_isExpression"),u(this,"_value")}}var c=Object.defineProperty,h=(e,t,r)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,d=(e,t,r)=>h(e,"symbol"!=typeof t?t+"":t,r);class m extends l{constructor(e){super(),d(this,"inner"),this.inner=e}serialize(){return this.inner}}function p(e){return e instanceof m?e.serialize():{$literal:(0,i.h_)(e)}}let y={eq:(e,t)=>new m({$eq:[p(e),p(t)]}),neq:(e,t)=>new m({$neq:[p(e),p(t)]}),lt:(e,t)=>new m({$lt:[p(e),p(t)]}),lte:(e,t)=>new m({$lte:[p(e),p(t)]}),gt:(e,t)=>new m({$gt:[p(e),p(t)]}),gte:(e,t)=>new m({$gte:[p(e),p(t)]}),add:(e,t)=>new m({$add:[p(e),p(t)]}),sub:(e,t)=>new m({$sub:[p(e),p(t)]}),mul:(e,t)=>new m({$mul:[p(e),p(t)]}),div:(e,t)=>new m({$div:[p(e),p(t)]}),mod:(e,t)=>new m({$mod:[p(e),p(t)]}),neg:e=>new m({$neg:p(e)}),and:(...e)=>new m({$and:e.map(p)}),or:(...e)=>new m({$or:e.map(p)}),not:e=>new m({$not:p(e)}),field:e=>new m({$field:e})};var v=Object.defineProperty,f=(e,t,r)=>t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,b=(e,t,r)=>f(e,"symbol"!=typeof t?t+"":t,r);class w{constructor(){b(this,"_isIndexRange")}}var g=Object.defineProperty,x=(e,t,r)=>t in e?g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,q=(e,t,r)=>x(e,"symbol"!=typeof t?t+"":t,r);class I extends w{constructor(e){super(),q(this,"rangeExpressions"),q(this,"isConsumed"),this.rangeExpressions=e,this.isConsumed=!1}static new(){return new I([])}consume(){if(this.isConsumed)throw Error("IndexRangeBuilder has already been used! Chain your method calls like `q => q.eq(...).eq(...)`. See https://docs.convex.dev/using/indexes");this.isConsumed=!0}eq(e,t){return this.consume(),new I(this.rangeExpressions.concat({type:"Eq",fieldPath:e,value:(0,i.h_)(t)}))}gt(e,t){return this.consume(),new I(this.rangeExpressions.concat({type:"Gt",fieldPath:e,value:(0,s.D2)(t)}))}gte(e,t){return this.consume(),new I(this.rangeExpressions.concat({type:"Gte",fieldPath:e,value:(0,s.D2)(t)}))}lt(e,t){return this.consume(),new I(this.rangeExpressions.concat({type:"Lt",fieldPath:e,value:(0,s.D2)(t)}))}lte(e,t){return this.consume(),new I(this.rangeExpressions.concat({type:"Lte",fieldPath:e,value:(0,s.D2)(t)}))}export(){return this.consume(),this.rangeExpressions}}var E=Object.defineProperty,k=(e,t,r)=>t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,$=(e,t,r)=>k(e,"symbol"!=typeof t?t+"":t,r);class P{constructor(){$(this,"_isSearchFilter")}}function j(e,t,r,s){if(void 0===e)throw TypeError(`Must provide arg ${t} \`${s}\` to \`${r}\``)}var C=Object.defineProperty,_=(e,t,r)=>t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Q=(e,t,r)=>_(e,"symbol"!=typeof t?t+"":t,r);class F extends P{constructor(e){super(),Q(this,"filters"),Q(this,"isConsumed"),this.filters=e,this.isConsumed=!1}static new(){return new F([])}consume(){if(this.isConsumed)throw Error("SearchFilterBuilder has already been used! Chain your method calls like `q => q.search(...).eq(...)`.");this.isConsumed=!0}search(e,t){return j(e,1,"search","fieldName"),j(t,2,"search","query"),this.consume(),new F(this.filters.concat({type:"Search",fieldPath:e,value:t}))}eq(e,t){return j(e,1,"eq","fieldName"),2!=arguments.length&&j(t,2,"search","value"),this.consume(),new F(this.filters.concat({type:"Eq",fieldPath:e,value:(0,i.h_)(t)}))}export(){return this.consume(),this.filters}}var O=r(8995),R=Object.defineProperty,S=(e,t,r)=>t in e?R(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,T=(e,t,r)=>S(e,"symbol"!=typeof t?t+"":t,r);function N(e){throw Error("consumed"===e?"This query is closed and can't emit any more values.":"This query has been chained with another operator and can't be reused.")}class D{constructor(e){T(this,"state"),this.state={type:"preparing",query:e}}takeQuery(){if("preparing"!==this.state.type)throw Error("A query can only be chained once and can't be chained after iteration begins.");let e=this.state.query;return this.state={type:"closed"},e}startQuery(){if("executing"===this.state.type)throw Error("Iteration can only begin on a query once.");("closed"===this.state.type||"consumed"===this.state.type)&&N(this.state.type);let e=this.state.query,{queryId:t}=(0,n.Ax)("1.0/queryStream",{query:e,version:O.i});return this.state={type:"executing",queryId:t},t}closeQuery(){if("executing"===this.state.type){let e=this.state.queryId;(0,n.Ax)("1.0/queryCleanup",{queryId:e})}this.state={type:"consumed"}}order(e){j(e,1,"order","order");let t=this.takeQuery();if("Search"===t.source.type)throw Error("Search queries must always be in relevance order. Can not set order manually.");if(null!==t.source.order)throw Error("Queries may only specify order at most once");return t.source.order=e,new D(t)}filter(e){j(e,1,"filter","predicate");let t=this.takeQuery();return t.operators.push({filter:p(e(y))}),new D(t)}limit(e){j(e,1,"limit","n");let t=this.takeQuery();return t.operators.push({limit:e}),new D(t)}[Symbol.asyncIterator](){return this.startQuery(),this}async next(){("closed"===this.state.type||"consumed"===this.state.type)&&N(this.state.type);let e="preparing"===this.state.type?this.startQuery():this.state.queryId,{value:t,done:r}=await (0,n.uz)("1.0/queryStreamNext",{queryId:e});return r&&this.closeQuery(),{value:(0,s.sq)(t),done:r}}return(){return this.closeQuery(),Promise.resolve({done:!0,value:void 0})}async paginate(e){if(j(e,1,"paginate","options"),"number"!=typeof e?.numItems||e.numItems<0)throw Error(`\`options.numItems\` must be a positive number. Received \`${e?.numItems}\`.`);let t=this.takeQuery(),r=e.numItems,i=e.cursor,a=e?.endCursor??null,o=e.maximumRowsRead??null,{page:u,isDone:l,continueCursor:c,splitCursor:h,pageStatus:d}=await (0,n.uz)("1.0/queryPage",{query:t,cursor:i,endCursor:a,pageSize:r,maximumRowsRead:o,maximumBytesRead:e.maximumBytesRead,version:O.i});return{page:u.map(e=>(0,s.sq)(e)),isDone:l,continueCursor:c,splitCursor:h,pageStatus:d}}async collect(){let e=[];for await(let t of this)e.push(t);return e}async take(e){return j(e,1,"take","n"),!function(e,t,r,s){if(!Number.isInteger(e)||e<0)throw TypeError(`Arg 1 \`n\` to \`${r}\` must be a non-negative integer`)}(e,0,"take",0),this.limit(e).collect()}async first(){let e=await this.take(1);return 0===e.length?null:e[0]}async unique(){let e=await this.take(2);if(0===e.length)return null;if(2===e.length)throw Error("unique() query returned more than one result");return e[0]}}var z=r(1653);z.v.object({numItems:z.v.number(),cursor:z.v.union(z.v.string(),z.v.null()),endCursor:z.v.optional(z.v.union(z.v.string(),z.v.null())),id:z.v.optional(z.v.number()),maximumRowsRead:z.v.optional(z.v.number()),maximumBytesRead:z.v.optional(z.v.number())});var V=r(9716);r(1012);var B=Object.defineProperty,L=(e,t,r)=>t in e?B(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,A=(e,t,r)=>L(e,"symbol"!=typeof t?t+"":t,r);class G{constructor(e){A(this,"indexes"),A(this,"searchIndexes"),A(this,"vectorIndexes"),A(this,"validator"),this.indexes=[],this.searchIndexes=[],this.vectorIndexes=[],this.validator=e}index(e,t){return this.indexes.push({indexDescriptor:e,fields:t}),this}searchIndex(e,t){return this.searchIndexes.push({indexDescriptor:e,searchField:t.searchField,filterFields:t.filterFields||[]}),this}vectorIndex(e,t){return this.vectorIndexes.push({indexDescriptor:e,vectorField:t.vectorField,dimensions:t.dimensions,filterFields:t.filterFields||[]}),this}self(){return this}export(){return{indexes:this.indexes,searchIndexes:this.searchIndexes,vectorIndexes:this.vectorIndexes,documentType:this.validator.json}}}function M(e){return new G((0,z.h)(e)?e:z.v.object(e))}class Z{constructor(e,t){A(this,"tables"),A(this,"strictTableNameTypes"),A(this,"schemaValidation"),this.tables=e,this.schemaValidation=t?.schemaValidation===void 0||t.schemaValidation}export(){return JSON.stringify({tables:Object.entries(this.tables).map(([e,t])=>{let{indexes:r,searchIndexes:s,vectorIndexes:n,documentType:i}=t.export();return{tableName:e,indexes:r,searchIndexes:s,vectorIndexes:n,documentType:i}}),schemaValidation:this.schemaValidation})}}new Z({_scheduled_functions:M({name:z.v.string(),args:z.v.array(z.v.any()),scheduledTime:z.v.float64(),completedTime:z.v.optional(z.v.float64()),state:z.v.union(z.v.object({kind:z.v.literal("pending")}),z.v.object({kind:z.v.literal("inProgress")}),z.v.object({kind:z.v.literal("success")}),z.v.object({kind:z.v.literal("failed"),error:z.v.string()}),z.v.object({kind:z.v.literal("canceled")}))}),_storage:M({sha256:z.v.string(),size:z.v.float64(),contentType:z.v.optional(z.v.string())})},void 0)}}]);